#!/bin/sh

which py.test || exit 1
cd $(git rev-parse --show-toplevel)
find swiftsc -name '*.pyc' -delete
python setup.py test || exit 1
python setup.py check -r || exit 1
pychecker -X -s swiftsc/*.py
pychecker -i -q -X -s swiftsc/tests/*.py
